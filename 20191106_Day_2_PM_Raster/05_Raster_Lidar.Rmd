---
title: "Raster Exercise 05 - Lidar"
author: "Alexandre Bevington"
date: "10/10/2019"
output: html_document
---

To do list (2019-10-16):
- redirect to data/zip folder
- add some steps - hillshade, etc.
- improve flow
- comment
- debug
- test speed/functionality on gov laptop


```{r cars}
# install.packages(c("lidR"))

library(lidR)
library(rlas)
# library(rLiDAR)

setwd("N:/Data_Lidar/15245_LowerKiskatinaw_BC_Government/Las_v12_ASPRS")

files <- list.files()


las <- lidR::readLAS(files[1])#, select = "xyz", filter = "keep_first")
las
las@data
las@header
las@bbox
las@proj4string
lascheck(las)

plot(las)

e <- extent(las@bbox)
e <- e + 1000 # add this as all y's are the same

xmin = e[1]
xmax = e[2]
ymin = e[3]
ymax = e[4]

f <- 2
r <- raster(e, ncol=(xmax-xmin)/f, nrow=(ymax - ymin)/f)
x <- rasterize(las@data[, 1:2], r, las@data[,3], fun=min)

writeRaster(x = x, filename = sub(x = files[1], pattern = ".las", replacement = ".tif"))

```

